"'Billing Screen' As screen":

    "Gallery1 As gallery.'BrowseLayout_Vertical_TwoTextVariant_ver4.0'":
        BorderColor: =RGBA(118, 0, 0, 1)
        Height: =292
        Items: =Filter('Order Details', 'Order ID' = Value(SelectedOrder.'Order Number'))
        Layout: =Layout.Vertical
        TemplatePadding: =0
        TemplateSize: =28
        Width: =1366
        Y: =45
        ZIndex: =1

        Title2 As label:
            Height: =25
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =15
            Text: =ThisItem.'Menu Item'.Name
            VerticalAlign: =VerticalAlign.Top
            Width: =310
            X: =32
            ZIndex: =1

        Subtitle2 As label:
            Height: =25
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =12
            Text: |-
                =Text(ThisItem.'Menu Item'.Price, "$##.#0")
            VerticalAlign: =VerticalAlign.Top
            Width: =81
            X: =1053
            Y: =4
            ZIndex: =2

        Separator5 As rectangle:
            Height: =1
            OnSelect: =Select(Parent)
            Width: =Parent.TemplateWidth
            Y: =Parent.TemplateHeight - 1
            ZIndex: =4

    btnBPay As button:
        Height: =48
        OnSelect: |
            =UpdateContext({BackgroundBlurVisble: true});
            UpdateContext({PTWindowVisible: true}); // PT = Payment Type
            Patch(Orders, LookUp(Orders, 'Order Number' = SelectedOrder.'Order Number'), {Tip: Value(txtTipAmtInput.Text)});
        Text: ="Pay"
        Width: =184
        X: =948
        Y: =526
        ZIndex: =2

    txtBTotal As label:
        Text: |-
            ="Total: " & Text(SelectedOrder.'Grand Total',"$##.#0")
        X: =948
        Y: =486
        ZIndex: =3

    txtBTip As label:
        Text: |-
            ="Tip: " & Text(Value(txtTipAmtInput.Text), "$#0.#00")
        X: =948
        Y: =446
        ZIndex: =4

    txtBTax As label:
        Text: |-
            ="Tax: " & Text(SelectedOrder.Tax,"$##.#0")
        X: =948
        Y: =406
        ZIndex: =5

    txtBSubtotal As label:
        Text: |-
            ="Subtotal: " & Text(SelectedOrder.'Base Total',"$##.#0")
        X: =948
        Y: =366
        ZIndex: =6

    txtTipAmt As label:
        Text: |-
            ="Tip Amount: " 
        Width: =120
        X: =83
        Y: =463
        ZIndex: =7

    txtTipAmtInput As text:
        Default: ="0"
        Format: =TextFormat.Number
        Width: =116
        X: =203
        Y: =463
        ZIndex: =8

    LightOutbg As rectangle:
        Fill: =RGBA(153, 153, 153, 0.4)
        Height: =215
        Visible: =BackgroundBlurVisble
        Width: =1366
        ZIndex: =9

    Label4 As label:
        Align: =Align.Center
        Fill: =RGBA(216, 59, 1, 1)
        FontWeight: =FontWeight.Bold
        Height: =45
        Size: =23
        Text: |-
            ="Order # " & Text(SelectedOrder.'Order Number')
        Width: =1366
        ZIndex: =10

    Icon1 As icon.ArrowLeft:
        Height: =27
        Icon: =Icon.ArrowLeft
        OnSelect: |-
            =Navigate('Orders List Screen', None);
            Reset(txtTipAmtInput)
        Width: =61
        ZIndex: =11

    Rectangle2 As rectangle:
        Fill: =RGBA(216, 59, 1, 1)
        Height: =45
        Width: =1366
        Y: =723
        ZIndex: =12

    CashCreditWindow As rectangle:
        BorderColor: =RGBA(216, 59, 1, 1)
        BorderThickness: =5
        Fill: =RGBA(255, 255, 255, 1)
        Height: =248
        Visible: =PTWindowVisible
        Width: =480
        X: =443
        Y: =260
        ZIndex: =13

    btnCash As button:
        Height: =162
        OnSelect: |-
            =UpdateContext({PTWindowVisible: false});
            UpdateContext({CashWindowVisible: true});
        Text: ="Cash"
        Visible: =PTWindowVisible
        Width: =181
        X: =484
        Y: =308
        ZIndex: =14

    btnCredit As button:
        Height: =162
        OnSelect: |-
            =UpdateContext({PTWindowVisible: false}); 
            UpdateContext({CreditWindowVisble: true});
        Text: ="Credit"
        Visible: =PTWindowVisible
        Width: =181
        X: =710
        Y: =303
        ZIndex: =15

    Icon2 As icon.Cancel:
        Height: =27
        Icon: =Icon.Cancel
        OnSelect: |-
            =UpdateContext({PTWindowVisible: false}); 
            UpdateContext({BackgroundBlurVisble: false});
        Visible: =PTWindowVisible
        Width: =32
        X: =891
        Y: =260
        ZIndex: =16

    CreditWindow As rectangle:
        BorderColor: =RGBA(216, 59, 1, 1)
        BorderThickness: =5
        Fill: =RGBA(255, 255, 255, 1)
        Height: =248
        Visible: =CreditWindowVisble
        Width: =480
        X: =443
        Y: =265
        ZIndex: =17

    lblCreditCardNum As label:
        FontWeight: =FontWeight.Bold
        Text: |-
            ="Credit Card #"
        Visible: =CreditWindowVisble
        Width: =139
        X: =461
        Y: =337
        ZIndex: =18

    inputCreditCardNum As text:
        Default: =""
        Format: =TextFormat.Number
        MaxLength: =16
        Visible: =CreditWindowVisble
        Width: =299
        X: =603
        Y: =337
        ZIndex: =19

    btnCreditSubmit As button:
        OnSelect: |+
            =If((Len(inputCreditCardNum.Text) = 16), 
            UpdateContext({CreditWindowVisble: false}) & 
            UpdateContext({BackgroundBlurVisble: false});, 
            
            UpdateContext({ErrorWindowVisble: true})
            );
            
        Text: ="Submit"
        Visible: =CreditWindowVisble
        X: =742
        Y: =439
        ZIndex: =20

    exitCreditWindow As icon.Cancel:
        Height: =24
        Icon: =Icon.Cancel
        OnSelect: |-
            =UpdateContext({CreditWindowVisble: false});
            UpdateContext({BackgroundBlurVisble: false});
        Visible: =CreditWindowVisble
        Width: =34
        X: =889
        Y: =267
        ZIndex: =21

    ErrorWindow As rectangle:
        BorderColor: =RGBA(216, 59, 1, 1)
        BorderThickness: =5
        Fill: =RGBA(255, 255, 255, 1)
        Height: =123
        Visible: =ErrorWindowVisble
        Width: =339
        X: =513
        Y: =322
        ZIndex: =22

    lblError As label:
        Fill: =RGBA(255, 255, 255, 1)
        FontWeight: =FontWeight.Bold
        Height: =29
        Text: |-
            ="Error: Invalid credit card number"
        Visible: =ErrorWindowVisble
        Width: =322
        X: =522
        Y: =338
        ZIndex: =23

    btnErrorConfirm As button:
        OnSelect: |-
            =UpdateContext({ErrorWindowVisble: false})
        Text: ="Confirm"
        Visible: =ErrorWindowVisble
        X: =603
        Y: =386
        ZIndex: =24

    CashWindow As rectangle:
        BorderColor: =RGBA(216, 59, 1, 1)
        BorderThickness: =5
        Fill: =RGBA(255, 255, 255, 1)
        Height: =248
        Visible: =CashWindowVisible
        Width: =480
        X: =444
        Y: =262
        ZIndex: =25

    Label2 As label:
        FontWeight: =FontWeight.Bold
        Height: =47
        Text: |-
            ="Balance: " & Text(SelectedOrder.'Grand Total', "$##.00")
        Visible: =CashWindowVisible
        Width: =183
        X: =493
        Y: =303
        ZIndex: =26

    Label2_1 As label:
        FontWeight: =FontWeight.Bold
        Height: =52
        Text: |-
            ="Cash Amount: " 
        Visible: =CashWindowVisible
        Width: =139
        X: =493
        Y: =347
        ZIndex: =27

    TextInput1 As text:
        Default: =""
        Format: =TextFormat.Number
        Height: =48
        Visible: =CashWindowVisible
        Width: =192
        X: =648
        Y: =351
        ZIndex: =28

    exitCreditWindow_1 As icon.Cancel:
        Height: =24
        Icon: =Icon.Cancel
        OnSelect: |-
            =UpdateContext({CashWindowVisible: false});
        Visible: =CashWindowVisible
        Width: =34
        X: =891
        Y: =267
        ZIndex: =29

    Button1 As button:
        OnSelect: |
            =UpdateContext({CashWindowVisible: false});
        Text: ="Submit"
        Visible: =CashWindowVisible
        X: =742
        Y: =439
        ZIndex: =30

    Rectangle3 As rectangle:
        BorderColor: =RGBA(216, 59, 1, 1)
        BorderThickness: =5
        Fill: =RGBA(255, 255, 255, 1)
        Height: =253
        Width: =220
        X: =582
        Y: =260
        ZIndex: =31

    Label3 As label:
        Height: =80
        Text: |-
            ="Change: " & Text(CashAmountInput - SelectedOrder.'Grand Total', "$#0.#0")
        Width: =220
        X: =582
        Y: =286
        ZIndex: =32

